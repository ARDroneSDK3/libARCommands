<?xml version="1.0" encoding="UTF-8"?>

<!--
   Important notes :
   ALWAYS ADD NEW THINGS AT THE END OF THE PARENT TAG !
   NEVER MODIFY EXISTING class/command/arg !

   Comments ("comm" attributes) are mandatory for all classes/commands/args
   For each comment : 1st line will be used as brief (if applicable) +
   1st line of complete desc. Other lines will be used as complete desc

   How to add a new class :
   <class name="myNewClassName" >           | No spaces ! [A-Za-z0-9_]
     Comment about the class                | Inlcuded in Doxygen doc
     <cmd> ... </cmd>                       | List of commands
     <cmd> ... </cmd>
   </class>

   How to add a new command (without args) to a class :
   <cmd name="myNewCommandName" >           | No spaces ! [A-Za-z0-9_]
     Comment about the command              | Included in Doxygen doc
   </cmd>

   How to add a new command (with args) to a class :
   <cmd name="myNewCommandWithArgs" >       | No spaces ! [A-Za-z0-9_]
     Comment about the command              | Included in Doxygen doc
     <arg name="argName" type="argType" >   | Repeat for each arg
       Comment about the arg                | argName must be a valid C variable name
     </arg>                                 | argType must be a valid type (see below)
     ...                                    | Comment included in Doxygen doc
   </cmd>

   List of valid types (associated C type) :
   -  i8 /  u8 : signed/unsigned  8 bit integer ([u]int8_t)
   - i16 / u16 : signed/unsigned 16 bit integer ([u]int16_t)
   - i32 / u32 : signed/unsigned 32 bit integer ([u]int32_t)
   - i64 / u64 : signed/unsigned 64 bit integer ([u]int64_t)
   -     float : IEEE-754 single precision floating point number (float)
   -    double : IEEE-754 double precision floating point number (double)
   -    string : NULL-terminated UTF-8 String. (char *)
-->


<classList>

  <class name="piloting">
    All commands related to piloting the totoDrone

    <cmd name="takeoff">
      Ask the drone to take off
    </cmd>

	<cmd name="emergency">
	  Put the drone in emergency state
	</cmd>

    <cmd name="pcmd">
      Ask the drone to move around.

      <arg name="roll" type="float">
        Roll consign for the drone [-1;1]
      </arg>

      <arg name="pitch" type="float">
        Pitch consign for the drone [-1;1]
      </arg>

      <arg name="yaw" type="float">
        Yaw consign for the drone [-1;1]
      </arg>

      <arg name="gaz" type="float">
        Gaz consign for the drone [-1;1]
      </arg>

      <arg name="psi" type="float">
        Magnetic north heading of the controlling device (deg)
      </arg>

    </cmd>

    <cmd name="landing">
      Ask the drone to land
    </cmd>

  </class>

  <class name="config">
    All configuration commands

    <cmd name="ssid">
      Change drone SSID

      <arg name="newSsid" type="string">
        New SSID for the drone
      </arg>

    </cmd>

    <cmd name="angleMax">
      Change the maximum angle of the drone

      <arg name="newAngleMax" type="float">
        New maximum angle for the drone (rad)
      </arg>

    </cmd>
  </class>

  <class name="navdata">
	Navigation data from drone

	<cmd name="position">
	  Position (X,Y) of the drone
	  
	  <arg name="X" type="i32">
		Current X position
	  </arg>
	  
	  <arg name="Y" type="i32">
		Current Y position
	  </arg>
	</cmd>
  </class>

  <class name="test">
	Some test commands

	<cmd name="testU8">
	  Test uint8_t arg type
	  <arg name="u8" type="u8">
		Dummy uint8_t for test
	  </arg>
	</cmd>

	<cmd name="testI8">
	  Test int8_t arg type
	  <arg name="i8" type="i8">
		Dummy int8_t for test
	  </arg>
	</cmd>

	<cmd name="testU16">
	  Test uint16_t arg type
	  <arg name="u16" type="u16">
		Dummy uint16_t for test
	  </arg>
	</cmd>

	<cmd name="testI16">
	  Test int16_t arg type
	  <arg name="i16" type="i16">
		Dummy int16_t for test
	  </arg>
	</cmd>

	<cmd name="testU32">
	  Test uint32_t arg type
	  <arg name="u32" type="u32">
		Dummy uint32_t for test
	  </arg>
	</cmd>

	<cmd name="testI32">
	  Test int32_t arg type
	  <arg name="i32" type="i32">
		Dummy int32_t for test
	  </arg>
	</cmd>

	<cmd name="testU64">
	  Test uint64_t arg type
	  <arg name="u64" type="u64">
		Dummy uint64_t for test
	  </arg>
	</cmd>

	<cmd name="testI64">
	  Test int64_t arg type
	  <arg name="i64" type="i64">
		Dummy int64_t for test
	  </arg>
	</cmd>

	<cmd name="testFlt">
	  Test float arg type
	  <arg name="flt" type="float">
		Dummy float for test
	  </arg>
	</cmd>

	<cmd name="testDbl">
	  Test double arg type
	  <arg name="dbl" type="double">
		Dummy double for test
	  </arg>
	</cmd>

	<cmd name="testString">
	  Test char * arg type
	  <arg name="stringTest" type="string">
		Dummy char * for test
	  </arg>
	</cmd>
  </class>
</classList>
